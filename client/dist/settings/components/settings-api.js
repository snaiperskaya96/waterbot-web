"use strict";var __decorate=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(o=(i<3?n(o):i>3?n(t,r,o):n(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(exports,"__esModule",{value:!0});var core_1=require("@angular/core"),user_service_1=require("client/dev/login/services/user-service"),SettingsApiCmp=function(){function e(e){var t=this;this.userService=e,this.tokens=[],this.canAddNewToken=!0,e.getApiTokens().subscribe(function(e){return t.tokens=e})}return e.prototype.generateNewToken=function(){var e=this;this.canAddNewToken&&(this.userService.newApiToken().subscribe(function(t){t&&e.tokens.push(t)}),this.canAddNewToken=!1,setTimeout(function(){return e.canAddNewToken=!0},5e3))},e.prototype.deleteToken=function(e){var t=this;this.userService.deleteApiToken(e).subscribe(function(r){r&&(t.tokens=t.tokens.filter(function(t){return t!==e}))})},e=__decorate([core_1.Component({selector:"settings-api-cmp",templateUrl:"settings/templates/settings-api.html",styleUrls:["settings/styles/settings-api.css"],providers:[user_service_1.UserService]}),__metadata("design:paramtypes",[user_service_1.UserService])],e)}();exports.SettingsApiCmp=SettingsApiCmp;