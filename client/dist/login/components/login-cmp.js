"use strict";var __decorate=this&&this.__decorate||function(e,t,r,o){var i,n=arguments.length,c=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(c=(n<3?i(c):n>3?i(t,r,c):i(t,r))||c);return n>3&&c&&Object.defineProperty(t,r,c),c},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(exports,"__esModule",{value:!0});var core_1=require("@angular/core"),user_service_1=require("../services/user-service"),router_1=require("@angular/router"),core_2=require("angular2-cookie/core"),LoginCmp=function(){function e(e,t,r){var o=this;this.userService=e,this.router=t,this.cookie=r,e.verify(r.get("wb_token")).subscribe(function(e){o.userService.authorized(e)})}return e.prototype.ngOnInit=function(){$.getScript("../../../assets/js/login.js"),this._getAll()},e.prototype._getAll=function(){},e.prototype.add=function(e){},e.prototype.remove=function(e){},e.prototype.register=function(){alert("yay")},e.prototype.login=function(){var e=this;this.userService.login(this.username,this.password).subscribe(function(t){t.token&&(e.userService.authorized(!!t.token),e.cookie.putObject("u",{a:!0}))})},e.prototype.submit=function(){this.login()},e=__decorate([core_1.Component({selector:"login-cmp",templateUrl:"login/templates/index.html",styleUrls:["login/styles/index.css"],providers:[core_2.CookieService]}),__metadata("design:paramtypes",[user_service_1.UserService,router_1.Router,core_2.CookieService])],e)}();exports.LoginCmp=LoginCmp;